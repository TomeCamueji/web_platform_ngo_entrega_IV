document.addEventListener("DOMContentLoaded",()=>{const highContrastKey="highContrastMode";const body=document.body;function toggleHighContrast(){body.classList.toggle("high-contrast");const isHighContrast=body.classList.contains("high-contrast");localStorage.setItem(highContrastKey,isHighContrast?"enabled":"disabled")}if(localStorage.getItem(highContrastKey)==="enabled"){body.classList.add("high-contrast")}document.addEventListener("keydown",event=>{if(event.ctrlKey&&event.key==="h"){event.preventDefault();toggleHighContrast()}});const menuToggle=document.querySelector(".menu-toggle");const navUl=document.querySelector("#main-menu");if(menuToggle&&navUl){menuToggle.addEventListener("click",()=>{const isExpanded=navUl.classList.toggle("active");menuToggle.classList.toggle("active");menuToggle.setAttribute("aria-expanded",isExpanded)})}const form=document.querySelector("#formulario-voluntario form");if(form){form.addEventListener("submit",function(event){event.preventDefault();let isValid=true;let firstInvalidField=null;const fieldsToValidate=form.querySelectorAll("input[required], select[required]");form.querySelectorAll(".error-message").forEach(msg=>msg.remove());fieldsToValidate.forEach(field=>field.removeAttribute("aria-invalid"));fieldsToValidate.forEach(field=>{const isFieldValid=field.checkValidity();if(!isFieldValid){isValid=false;field.setAttribute("aria-invalid","true");if(!firstInvalidField){firstInvalidField=field}const errorMessage=document.createElement("p");errorMessage.className="error-message";errorMessage.setAttribute("role","alert");errorMessage.textContent=field.validationMessage||"Este campo é obrigatório.";field.parentElement.appendChild(errorMessage)}});if(isValid){alert("Cadastro enviado com sucesso! (Simulação)");form.reset()}else{if(firstInvalidField){firstInvalidField.focus()}}})}});